{
  "_comment": "This file is generated. Please edit .homeycompose/app.json instead.",
  "id": "com.sortedbits.blauhoff",
  "version": "1.1.6",
  "compatibility": ">=5.0.0",
  "sdk": 3,
  "platforms": [
    "local"
  ],
  "name": {
    "en": "BlauHoff"
  },
  "description": {
    "en": "Smart battery for everyone",
    "nl": "Slimme batterij voor iedereen"
  },
  "category": [
    "energy"
  ],
  "permissions": [],
  "images": {
    "small": "/assets/images/small.jpg",
    "large": "/assets/images/large.jpg",
    "xlarge": "/assets/images/xlarge.jpg"
  },
  "author": {
    "name": "Wim Haanstra",
    "email": "wim@x256.nl"
  },
  "brandColor": "#263D7F",
  "flow": {
    "actions": [
      {
        "id": "set_mode_1",
        "title": {
          "en": "Set mode1"
        },
        "titleFormatted": {
          "en": "Set self consumption mode with [[maxFeedInLimit]] limit, keeping the battery level above [[batCapMin]]."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-battery"
          },
          {
            "type": "range",
            "name": "maxFeedInLimit",
            "title": {
              "en": "Feed in limit"
            },
            "placeholder": {
              "en": "Percentage between 0 and 100"
            },
            "min": 0,
            "max": 100,
            "labelDecimals": 0,
            "label": "%"
          },
          {
            "type": "range",
            "name": "batCapMin",
            "title": {
              "en": "Battery capacity minimum"
            },
            "placeholder": {
              "en": "Percentage between 10 and 100"
            },
            "min": 10,
            "max": 100,
            "labelDecimals": 0,
            "label": "%"
          }
        ]
      },
      {
        "id": "set_mode_2",
        "title": {
          "en": "Set mode2"
        },
        "titleFormatted": {
          "en": "Set direct charge mode with [[batPower]] limit, keeping the battery level above [[batCapMin]], for [[timeout]] minutes."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-battery"
          },
          {
            "type": "range",
            "name": "batPower",
            "title": {
              "en": "Battery power"
            },
            "placeholder": {
              "en": "Wattage between -6000 and 0W"
            },
            "min": -6000,
            "max": 0,
            "labelDecimals": 0,
            "label": "W"
          },
          {
            "type": "range",
            "name": "batCapMin",
            "title": {
              "en": "Battery capacity minimum"
            },
            "placeholder": {
              "en": "Percentage between 10 and 100"
            },
            "min": 10,
            "max": 100,
            "labelDecimals": 0,
            "label": "%"
          },
          {
            "type": "range",
            "name": "timeout",
            "title": {
              "en": "Duration"
            },
            "placeholder": {
              "en": "Time between 0 and 80 minutes"
            },
            "min": 0,
            "max": 80,
            "labelDecimals": 0
          }
        ]
      },
      {
        "id": "set_mode_3",
        "title": {
          "en": "Set mode3"
        },
        "titleFormatted": {
          "en": "Set direct discharge mode at [[batPower]] power limit, keeping the battery level above [[batCapMin]], for [[timeout]] minutes."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-battery"
          },
          {
            "type": "range",
            "name": "batPower",
            "title": {
              "en": "Battery power"
            },
            "placeholder": {
              "en": "Wattage between 0 and 6000W"
            },
            "min": 0,
            "max": 6000,
            "labelDecimals": 0,
            "label": "W"
          },
          {
            "type": "range",
            "name": "batCapMin",
            "title": {
              "en": "Battery capacity minimum"
            },
            "placeholder": {
              "en": "Percentage between 10 and 100"
            },
            "min": 10,
            "max": 100,
            "labelDecimals": 0,
            "label": "%"
          },
          {
            "type": "range",
            "name": "timeout",
            "title": {
              "en": "Duration"
            },
            "placeholder": {
              "en": "Time between 0 and 80 minutes"
            },
            "min": 0,
            "max": 80,
            "labelDecimals": 0
          }
        ]
      },
      {
        "id": "set_mode_4",
        "title": {
          "en": "Set mode4"
        },
        "titleFormatted": {
          "en": "Set discharge only mode to the load, avoid charging with [[maxFeedInLimit]] limit, keeping the battery level above [[batCapMin]], for [[timeout]] minutes."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-battery"
          },
          {
            "type": "range",
            "name": "maxFeedInLimit",
            "title": {
              "en": "Feed in limit"
            },
            "placeholder": {
              "en": "Percentage between 0 and 100"
            },
            "min": 0,
            "max": 100,
            "labelDecimals": 0,
            "label": "%"
          },
          {
            "type": "range",
            "name": "batCapMin",
            "title": {
              "en": "Battery capacity minimum"
            },
            "placeholder": {
              "en": "Percentage between 10 and 100"
            },
            "min": 10,
            "max": 100,
            "labelDecimals": 0,
            "label": "%"
          },
          {
            "type": "range",
            "name": "timeout",
            "title": {
              "en": "Duration"
            },
            "placeholder": {
              "en": "Time between 0 and 80 minutes"
            },
            "min": 0,
            "max": 80,
            "labelDecimals": 0
          }
        ]
      },
      {
        "id": "set_mode_5",
        "title": {
          "en": "Set mode5"
        },
        "titleFormatted": {
          "en": "Set charge only mode, no discharging with [[maxFeedInLimit]] limit, keeping the battery level above [[batCapMin]], for [[timeout]] minutes."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-battery"
          },
          {
            "type": "range",
            "name": "maxFeedInLimit",
            "title": {
              "en": "Feed in limit"
            },
            "placeholder": {
              "en": "Percentage between 0 and 100"
            },
            "min": 0,
            "max": 100,
            "labelDecimals": 0,
            "label": "%"
          },
          {
            "type": "range",
            "name": "batCapMin",
            "title": {
              "en": "Battery capacity minimum"
            },
            "placeholder": {
              "en": "Percentage between 10 and 100"
            },
            "min": 10,
            "max": 100,
            "labelDecimals": 0,
            "label": "%"
          },
          {
            "type": "range",
            "name": "timeout",
            "title": {
              "en": "Duration"
            },
            "placeholder": {
              "en": "Time between 0 and 80 minutes"
            },
            "min": 0,
            "max": 80,
            "labelDecimals": 0
          }
        ]
      },
      {
        "id": "set_mode_6",
        "title": {
          "en": "Set mode6"
        },
        "titleFormatted": {
          "en": "Set inverter outputs at [[batPower]], inverter limit at [[batPowerInvLimit]], keeping the battery level above [[batCapMin]], for [[timeout]] minutes."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-battery"
          },
          {
            "type": "range",
            "name": "batPower",
            "title": {
              "en": "Battery power"
            },
            "placeholder": {
              "en": "Wattage between 0 and 6000W"
            },
            "min": 0,
            "max": 6000,
            "labelDecimals": 0,
            "label": "W"
          },
          {
            "type": "range",
            "name": "batPowerInvLimit",
            "title": {
              "en": "Inverter limit"
            },
            "placeholder": {
              "en": "Wattage between 0 and 6000W"
            },
            "min": 0,
            "max": 6000,
            "labelDecimals": 0,
            "label": "W"
          },
          {
            "type": "range",
            "name": "batCapMin",
            "title": {
              "en": "Battery capacity minimum"
            },
            "placeholder": {
              "en": "Percentage between 10 and 100"
            },
            "min": 10,
            "max": 100,
            "labelDecimals": 0,
            "label": "%"
          },
          {
            "type": "range",
            "name": "timeout",
            "title": {
              "en": "Duration"
            },
            "placeholder": {
              "en": "Time between 0 and 80 minutes"
            },
            "min": 0,
            "max": 80,
            "labelDecimals": 0
          }
        ]
      },
      {
        "id": "set_mode_7",
        "title": {
          "en": "Set mode7"
        },
        "titleFormatted": {
          "en": "Set inverter mode, operating at [[batPower]] limit, keeping the battery level above [[batCapMin]], for [[timeout]] minutes."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-battery"
          },
          {
            "type": "range",
            "name": "batPower",
            "title": {
              "en": "Battery power"
            },
            "placeholder": {
              "en": "Wattage between -6000 and 0W"
            },
            "min": -6000,
            "label": "W",
            "max": 0,
            "labelDecimals": 0
          },
          {
            "type": "range",
            "name": "batCapMin",
            "title": {
              "en": "Battery capacity minimum"
            },
            "placeholder": {
              "en": "Percentage between 10 and 100"
            },
            "min": 10,
            "max": 100,
            "labelDecimals": 0,
            "label": "%"
          },
          {
            "type": "range",
            "name": "timeout",
            "title": {
              "en": "Duration"
            },
            "placeholder": {
              "en": "Time between 0 and 80 minutes"
            },
            "min": 0,
            "max": 80,
            "labelDecimals": 0
          }
        ]
      },
      {
        "id": "write_value_to_register",
        "title": {
          "en": "Write value to register"
        },
        "titleFormatted": {
          "en": "Write [[value]] to [[registerType]] register [[register]]",
          "nl": "Schrijf [[value]] naar [[registerType]] register [[register]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-modbus"
          },
          {
            "type": "number",
            "name": "value",
            "title": {
              "en": "Value"
            },
            "placeholder": {
              "en": "Value to write"
            }
          },
          {
            "type": "dropdown",
            "name": "registerType",
            "title": {
              "en": "The register type where to write to"
            },
            "values": [
              {
                "id": "input",
                "title": {
                  "en": "input"
                }
              },
              {
                "id": "holding",
                "title": {
                  "en": "holding"
                }
              }
            ]
          },
          {
            "type": "autocomplete",
            "name": "register",
            "title": {
              "en": "Register"
            },
            "placeholder": {
              "en": "Register address"
            }
          }
        ]
      },
      {
        "id": "set_max_solar_power",
        "title": {
          "en": "Set max solar power"
        },
        "titleFormatted": {
          "en": "Set max solar power to [[value]]."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-modbus"
          },
          {
            "type": "range",
            "min": 1000,
            "max": 7800,
            "name": "value",
            "label": "W",
            "labelDecimals": 0,
            "title": {
              "en": "Watts"
            },
            "placeholder": {
              "en": "watts"
            }
          }
        ]
      },
      {
        "id": "set_max_sell_power",
        "title": {
          "en": "Set max sell power"
        },
        "titleFormatted": {
          "en": "Set max sell power to [[value]]."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-modbus"
          },
          {
            "type": "range",
            "min": 10,
            "max": 16000,
            "name": "value",
            "label": "W",
            "labelDecimals": 0,
            "title": {
              "en": "Watts"
            },
            "placeholder": {
              "en": "watts"
            }
          }
        ]
      },
      {
        "id": "set_energy_pattern",
        "title": {
          "en": "Set energy pattern"
        },
        "titleFormatted": {
          "en": "Set energy pattern to [[value]]."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-modbus"
          },
          {
            "type": "dropdown",
            "name": "value",
            "title": {
              "en": "Energy pattern"
            },
            "values": [
              {
                "id": "batt_first",
                "title": {
                  "en": "Battery first"
                }
              },
              {
                "id": "load_first",
                "title": {
                  "en": "Load first"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "set_grid_peak_shaving_on",
        "title": {
          "en": "Set grid peak shaving on"
        },
        "titleFormatted": {
          "en": "Set grid peak shaving on with [[value]] power."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-modbus"
          },
          {
            "type": "range",
            "min": 0,
            "max": 16000,
            "name": "value",
            "label": "W",
            "labelDecimals": 0,
            "title": {
              "en": "Watts"
            },
            "placeholder": {
              "en": "watts"
            }
          }
        ]
      },
      {
        "id": "set_grid_peak_shaving_off",
        "title": {
          "en": "Set grid peak shaving off"
        },
        "titleFormatted": {
          "en": "Set grid peak shaving off."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-modbus"
          }
        ]
      },
      {
        "id": "set_solar_sell",
        "title": {
          "en": "Set solar selling"
        },
        "titleFormatted": {
          "en": "Set solar selling to [[enabled]]."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-modbus"
          },
          {
            "type": "checkbox",
            "name": "enabled",
            "title": {
              "en": "Solar selling"
            }
          }
        ]
      },
      {
        "id": "set_work_mode_and_zero_export_power",
        "title": {
          "en": "Set work mode and zero export power"
        },
        "titleFormatted": {
          "en": "Set workmode to [[workmode]] and Zero Export Power to [[value]]."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=blauhoff-modbus"
          },
          {
            "type": "range",
            "min": 0,
            "max": 100,
            "name": "value",
            "label": "W",
            "labelDecimals": 0,
            "title": {
              "en": "Watts"
            },
            "placeholder": {
              "en": "watts"
            }
          },
          {
            "name": "workmode",
            "type": "dropdown",
            "title": {
              "en": "Workmode"
            },
            "values": [
              {
                "id": "selling_first",
                "title": {
                  "en": "Selling first"
                }
              },
              {
                "id": "zero_export_to_load",
                "title": {
                  "en": "Zero export to load"
                }
              },
              {
                "id": "zero_export_to_ct",
                "title": {
                  "en": "Zero export to CT"
                }
              }
            ]
          }
        ]
      }
    ]
  },
  "drivers": [
    {
      "class": "solarpanel",
      "capabilitiesOptions": {
        "date.record": {
          "title": {
            "en": "Last status update"
          }
        },
        "readable_boolean.device_status": {
          "title": {
            "en": "Device online"
          }
        },
        "status_code.device_type": {
          "title": {
            "en": "Device type"
          }
        },
        "manufacturer": {
          "title": {
            "en": "Manufacturer"
          }
        },
        "serial": {
          "title": {
            "en": "Serial number"
          }
        },
        "version.dsp1": {
          "title": {
            "en": "DSP 1 version"
          }
        },
        "version.dsp2": {
          "title": {
            "en": "DSP 2 version"
          }
        },
        "version.bms": {
          "title": {
            "en": "BMS version"
          }
        },
        "version.ems": {
          "title": {
            "en": "EMS version"
          }
        },
        "status_code.modbus_protocol": {
          "title": {
            "en": "Modbus version"
          }
        },
        "status_code.modbus_address": {
          "title": {
            "en": "Modbus address"
          }
        },
        "status_text.run_mode": {
          "title": {
            "en": "Run mode"
          }
        },
        "status_text.work_mode": {
          "title": {
            "en": "Work mode"
          }
        },
        "status_code.run_mode": {
          "title": {
            "en": "Run mode"
          }
        },
        "status_code.work_mode": {
          "title": {
            "en": "Work mode"
          }
        },
        "status_code.max_sell_power": {
          "title": {
            "en": "Max selling power"
          }
        },
        "status_code.selling_enable": {
          "title": {
            "en": "Selling enable"
          }
        },
        "status_code.bat_basic_status": {
          "title": {
            "en": "Battery status"
          }
        },
        "status_code.sys_error_code": {
          "title": {
            "en": "Error code"
          }
        },
        "status_code.sys_bat_error_code": {
          "title": {
            "en": "Battery error code"
          }
        },
        "measure_voltage.grid_l1": {
          "title": {
            "en": "Grid L1 voltage"
          },
          "decimals": 0
        },
        "measure_voltage.grid_l2": {
          "title": {
            "en": "Grid L2 voltage"
          },
          "decimals": 0
        },
        "measure_voltage.grid_l3": {
          "title": {
            "en": "Grid L3 voltage"
          },
          "decimals": 0
        },
        "measure_power.meter": {
          "title": {
            "en": "Meter power"
          }
        },
        "measure_power.grid": {
          "title": {
            "en": "Grid output power"
          }
        },
        "measure_power.grid_int_ctl1": {
          "title": {
            "en": "Grid power int CT L1"
          }
        },
        "measure_power.grid_int_ctl2": {
          "title": {
            "en": "Grid power int CT L2"
          }
        },
        "measure_power.grid_int_ctl3": {
          "title": {
            "en": "Grid power int CT L3"
          }
        },
        "measure_power.grid_ext_ctl1": {
          "title": {
            "en": "Grid power ext CT L1"
          }
        },
        "measure_power.grid_ext_ctl2": {
          "title": {
            "en": "Grid power ext CT L2"
          }
        },
        "measure_power.grid_ext_ctl3": {
          "title": {
            "en": "Grid power ext CT L3"
          }
        },
        "measure_power.total_active_in_power": {
          "title": {
            "en": "Meter power total active in"
          }
        },
        "measure_voltage.pv1": {
          "title": {
            "en": "PV 1 voltage"
          },
          "decimals": 0
        },
        "measure_current.pv1": {
          "title": {
            "en": "PV 1 current"
          }
        },
        "measure_voltage.pv2": {
          "title": {
            "en": "PV 2 voltage"
          },
          "decimals": 0
        },
        "measure_current.pv2": {
          "title": {
            "en": "PV 2 current"
          }
        },
        "measure_power.pv1": {
          "title": {
            "en": "PV 1 power"
          },
          "decimals": 0
        },
        "measure_power.pv2": {
          "title": {
            "en": "PV 2 power"
          },
          "decimals": 0
        },
        "measure_power.pv": {
          "title": {
            "en": "PV power"
          },
          "decimals": 0
        },
        "measure_voltage.ac": {
          "title": {
            "en": "AC voltage"
          },
          "decimals": 0
        },
        "measure_current.ac": {
          "title": {
            "en": "AC current"
          }
        },
        "measure_frequency.ac": {
          "title": {
            "en": "AC frequency"
          }
        },
        "measure_power.ac": {
          "title": {
            "en": "AC power"
          },
          "decimals": 0
        },
        "measure_voltamperage.ac": {
          "title": {
            "en": "AC voltamperage"
          }
        },
        "measure_voltage.eps": {
          "title": {
            "en": "EPS voltage"
          }
        },
        "measure_current.eps": {
          "title": {
            "en": "EPS current"
          }
        },
        "measure_power.eps": {
          "title": {
            "en": "EPS power"
          }
        },
        "measure_power.grid_output": {
          "title": {
            "en": "Grid output power"
          }
        },
        "measure_power.dsp": {
          "title": {
            "en": "DSP power"
          }
        },
        "measure_temperature.ac": {
          "title": {
            "en": "AC temperature"
          }
        },
        "measure_temperature.dc": {
          "title": {
            "en": "DC temperature"
          }
        },
        "measure_power.load": {
          "title": {
            "en": "load power"
          }
        },
        "measure_power.load_l1": {
          "title": {
            "en": "Load L1 power"
          }
        },
        "measure_power.load_l2": {
          "title": {
            "en": "Load L2 power"
          }
        },
        "measure_power.load_l3": {
          "title": {
            "en": "Load L3 power"
          }
        },
        "measure_voltage.load_l1": {
          "title": {
            "en": "Load L1 voltage"
          }
        },
        "measure_voltage.load_l2": {
          "title": {
            "en": "Load L2 voltage"
          }
        },
        "measure_voltage.load_l3": {
          "title": {
            "en": "Load L3 voltage"
          }
        },
        "measure_power.inverter": {
          "title": {
            "en": "Inverter power"
          }
        },
        "measure_power.inverter_l1": {
          "title": {
            "en": "Inverter L1 power"
          }
        },
        "measure_power.inverter_l2": {
          "title": {
            "en": "Inverter L2 power"
          }
        },
        "measure_power.inverter_l3": {
          "title": {
            "en": "Inverter L3 power"
          }
        },
        "measure_current.inverter_l1": {
          "title": {
            "en": "Inverter L1 current"
          }
        },
        "measure_current.inverter_l2": {
          "title": {
            "en": "Inverter L2 current"
          }
        },
        "measure_current.inverter_l3": {
          "title": {
            "en": "Inverter L3 current"
          }
        },
        "measure_voltage.inverter_l1": {
          "title": {
            "en": "Inverter L1 voltage"
          }
        },
        "measure_voltage.inverter_l2": {
          "title": {
            "en": "Inverter L2 voltage"
          }
        },
        "measure_voltage.inverter_l3": {
          "title": {
            "en": "Inverter L3 voltage"
          }
        },
        "measure_voltamperage.eps": {
          "title": {
            "en": "EPS voltamperage"
          }
        },
        "measure_voltage.meter": {
          "title": {
            "en": "Meter voltage"
          }
        },
        "measure_current.meter": {
          "title": {
            "en": "Meter current"
          }
        },
        "measure_frequency.meter": {
          "title": {
            "en": "Meter frequency"
          }
        },
        "measure_voltamperage.meter": {
          "title": {
            "en": "Meter voltamperage"
          }
        },
        "measure_voltage.battery": {
          "title": {
            "en": "Battery voltage"
          }
        },
        "measure_voltage.battery1": {
          "title": {
            "en": "Battery 1 voltage"
          }
        },
        "measure_voltage.battery2": {
          "title": {
            "en": "Battery 2 voltage"
          }
        },
        "measure_current.battery": {
          "title": {
            "en": "Battery current"
          }
        },
        "measure_power.battery": {
          "title": {
            "en": "Battery power"
          }
        },
        "measure_power.battery1": {
          "title": {
            "en": "Battery 1 power"
          }
        },
        "measure_power.battery2": {
          "title": {
            "en": "Battery 2 power"
          }
        },
        "measure_current.battery1": {
          "title": {
            "en": "Battery 1 current"
          }
        },
        "measure_current.battery2": {
          "title": {
            "en": "Battery 2 current"
          }
        },
        "measure_percentage.bat_soc": {
          "title": {
            "en": "Battery SOC"
          }
        },
        "measure_percentage.bat1_soc": {
          "title": {
            "en": "Battery 1 SOC"
          }
        },
        "measure_percentage.bat2_soc": {
          "title": {
            "en": "Battery 2 SOC"
          }
        },
        "measure_percentage.bat_soh": {
          "title": {
            "en": "State of health"
          },
          "icon": "/assets/capabilities/sharp-light-battery-three-quarters-circle-info.svg"
        },
        "measure_voltage.battery_high": {
          "title": {
            "en": "Battery voltage high"
          }
        },
        "measure_voltage.battery_low": {
          "title": {
            "en": "Battery voltage low"
          }
        },
        "measure_temperature.battery_high": {
          "title": {
            "en": "Battery temperature high"
          }
        },
        "measure_temperature.battery_low": {
          "title": {
            "en": "Battery temperature low"
          }
        },
        "measure_temperature.battery1": {
          "title": {
            "en": "Battery 1 temperature"
          }
        },
        "measure_temperature.battery2": {
          "title": {
            "en": "Battery 2 temperature"
          }
        },
        "meter_power.total_battery_charge": {
          "title": {
            "en": "Total battery charge"
          }
        },
        "meter_power.daily_battery_charge": {
          "title": {
            "en": "Daily battery charge"
          }
        },
        "meter_power.total_battery_discharge": {
          "title": {
            "en": "Total battery discharge"
          }
        },
        "meter_power.daily_battery_discharge": {
          "title": {
            "en": "Daily battery discharge"
          }
        },
        "meter_power.pv": {
          "title": {
            "en": "Total PV"
          }
        },
        "meter_power.total_pv": {
          "title": {
            "en": "Total PV"
          }
        },
        "meter_power.daily_pv": {
          "title": {
            "en": "Daily PV"
          }
        },
        "meter_power.daily": {
          "title": {
            "en": "Daily Energy"
          }
        },
        "meter_power.total_to_load": {
          "title": {
            "en": "Total to load"
          }
        },
        "meter_power.daily_to_load": {
          "title": {
            "en": "Daily to load"
          }
        },
        "meter_power.total_to_grid": {
          "title": {
            "en": "Total to grid"
          }
        },
        "meter_power.daily_to_grid": {
          "title": {
            "en": "Daily to grid"
          }
        },
        "meter_power.total_from_grid": {
          "title": {
            "en": "Total from grid"
          }
        },
        "meter_power.daily_from_grid": {
          "title": {
            "en": "Daily from grid"
          }
        },
        "meter_power.total_to_grid_pv": {
          "title": {
            "en": "Total PV to grid"
          }
        },
        "status_text.sell_solar": {
          "title": {
            "en": "Sell solar"
          }
        },
        "status_text.grid_peak_shaving": {
          "title": {
            "en": "Grid peak shaving"
          }
        }
      },
      "energy": {
        "cumulative": true
      },
      "platforms": [
        "local"
      ],
      "connectivity": [
        "lan"
      ],
      "images": {
        "small": "/drivers/blauhoff-battery/assets/images/small.jpg",
        "large": "/drivers/blauhoff-battery/assets/images/large.jpg",
        "xlarge": "/drivers/blauhoff-battery/assets/images/xlarge.jpg"
      },
      "name": {
        "en": "BlauHoff Battery"
      },
      "capabilities": [
        "date.record",
        "status_code.device_type",
        "manufacturer",
        "serial",
        "version.dsp1",
        "version.dsp2",
        "version.bms",
        "version.ems",
        "status_code.run_mode",
        "status_code.bat_basic_status",
        "status_code.sys_error_code",
        "status_code.sys_bat_error_code",
        "measure_voltage.pv1",
        "measure_current.pv1",
        "measure_voltage.pv2",
        "measure_current.pv2",
        "measure_power.pv1",
        "measure_power.pv2",
        "measure_voltage.ac",
        "measure_current.ac",
        "measure_frequency.ac",
        "measure_power.ac",
        "measure_voltamperage.ac",
        "measure_voltage.eps",
        "measure_current.eps",
        "measure_power.eps",
        "measure_voltamperage.eps",
        "measure_voltage.meter",
        "measure_current.meter",
        "measure_frequency.meter",
        "measure_power.meter",
        "measure_voltamperage.meter",
        "measure_voltage.battery",
        "measure_current.battery",
        "measure_power.battery",
        "measure_percentage.bat_soc",
        "measure_percentage.bat_soh",
        "measure_voltage.battery_high",
        "measure_voltage.battery_low",
        "measure_temperature.battery_high",
        "measure_temperature.battery_low",
        "meter_power.battery_total_charge",
        "meter_power.battery_total_discharge",
        "meter_power.pv",
        "meter_power.total_to_grid",
        "meter_power.total_from_grid",
        "meter_power.total_to_grid_pv"
      ],
      "pair": [
        {
          "id": "pair"
        },
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "id": "blauhoff-battery",
      "settings": [
        {
          "id": "accessId",
          "type": "text",
          "label": {
            "en": "Access ID"
          },
          "value": "",
          "hint": {
            "en": "The Access ID generated during setup",
            "nl": "Het Access ID dat gegenereerd is tijdens de setup"
          }
        },
        {
          "id": "accessSecret",
          "type": "password",
          "label": {
            "en": "Access Secret"
          },
          "value": "",
          "hint": {
            "en": "The Access Secret generated during setup",
            "nl": "Het Access Secret dat gegenereerd is tijdens de setup"
          }
        },
        {
          "id": "refreshInterval",
          "type": "number",
          "label": {
            "en": "Update interval",
            "nl": "Update interval"
          },
          "min": 10,
          "value": 60,
          "max": 120,
          "hint": {
            "en": "Time in seconds used to query device details",
            "nl": "Tijd in seconden om de apparaat details op te halen"
          }
        },
        {
          "id": "baseUrl",
          "type": "text",
          "label": {
            "en": "Base URL"
          },
          "value": "https://api-vpp-au.weiheng-tech.com/api/vpp",
          "hint": {
            "en": "The base URL for the API, update this only if you know what you are doing.",
            "nl": "De basis URL voor de API, pas dit alleen aan als je weet wat je doet."
          }
        }
      ]
    },
    {
      "class": "solarpanel",
      "capabilitiesOptions": {
        "date.record": {
          "title": {
            "en": "Last status update"
          }
        },
        "readable_boolean.device_status": {
          "title": {
            "en": "Device online"
          }
        },
        "status_code.device_type": {
          "title": {
            "en": "Device type"
          }
        },
        "manufacturer": {
          "title": {
            "en": "Manufacturer"
          }
        },
        "serial": {
          "title": {
            "en": "Serial number"
          }
        },
        "version.dsp1": {
          "title": {
            "en": "DSP 1 version"
          }
        },
        "version.dsp2": {
          "title": {
            "en": "DSP 2 version"
          }
        },
        "version.bms": {
          "title": {
            "en": "BMS version"
          }
        },
        "version.ems": {
          "title": {
            "en": "EMS version"
          }
        },
        "status_code.modbus_protocol": {
          "title": {
            "en": "Modbus version"
          }
        },
        "status_code.modbus_address": {
          "title": {
            "en": "Modbus address"
          }
        },
        "status_text.run_mode": {
          "title": {
            "en": "Run mode"
          }
        },
        "status_text.work_mode": {
          "title": {
            "en": "Work mode"
          }
        },
        "status_code.run_mode": {
          "title": {
            "en": "Run mode"
          }
        },
        "status_code.work_mode": {
          "title": {
            "en": "Work mode"
          }
        },
        "status_code.max_sell_power": {
          "title": {
            "en": "Max selling power"
          }
        },
        "status_code.selling_enable": {
          "title": {
            "en": "Selling enable"
          }
        },
        "status_code.bat_basic_status": {
          "title": {
            "en": "Battery status"
          }
        },
        "status_code.sys_error_code": {
          "title": {
            "en": "Error code"
          }
        },
        "status_code.sys_bat_error_code": {
          "title": {
            "en": "Battery error code"
          }
        },
        "measure_voltage.grid_l1": {
          "title": {
            "en": "Grid L1 voltage"
          },
          "decimals": 0
        },
        "measure_voltage.grid_l2": {
          "title": {
            "en": "Grid L2 voltage"
          },
          "decimals": 0
        },
        "measure_voltage.grid_l3": {
          "title": {
            "en": "Grid L3 voltage"
          },
          "decimals": 0
        },
        "measure_power.meter": {
          "title": {
            "en": "Meter power"
          }
        },
        "measure_power.grid": {
          "title": {
            "en": "Grid output power"
          }
        },
        "measure_power.grid_int_ctl1": {
          "title": {
            "en": "Grid power int CT L1"
          }
        },
        "measure_power.grid_int_ctl2": {
          "title": {
            "en": "Grid power int CT L2"
          }
        },
        "measure_power.grid_int_ctl3": {
          "title": {
            "en": "Grid power int CT L3"
          }
        },
        "measure_power.grid_ext_ctl1": {
          "title": {
            "en": "Grid power ext CT L1"
          }
        },
        "measure_power.grid_ext_ctl2": {
          "title": {
            "en": "Grid power ext CT L2"
          }
        },
        "measure_power.grid_ext_ctl3": {
          "title": {
            "en": "Grid power ext CT L3"
          }
        },
        "measure_power.total_active_in_power": {
          "title": {
            "en": "Meter power total active in"
          }
        },
        "measure_voltage.pv1": {
          "title": {
            "en": "PV 1 voltage"
          },
          "decimals": 0
        },
        "measure_current.pv1": {
          "title": {
            "en": "PV 1 current"
          }
        },
        "measure_voltage.pv2": {
          "title": {
            "en": "PV 2 voltage"
          },
          "decimals": 0
        },
        "measure_current.pv2": {
          "title": {
            "en": "PV 2 current"
          }
        },
        "measure_power.pv1": {
          "title": {
            "en": "PV 1 power"
          },
          "decimals": 0
        },
        "measure_power.pv2": {
          "title": {
            "en": "PV 2 power"
          },
          "decimals": 0
        },
        "measure_power.pv": {
          "title": {
            "en": "PV power"
          },
          "decimals": 0
        },
        "measure_voltage.ac": {
          "title": {
            "en": "AC voltage"
          },
          "decimals": 0
        },
        "measure_current.ac": {
          "title": {
            "en": "AC current"
          }
        },
        "measure_frequency.ac": {
          "title": {
            "en": "AC frequency"
          }
        },
        "measure_power.ac": {
          "title": {
            "en": "AC power"
          },
          "decimals": 0
        },
        "measure_voltamperage.ac": {
          "title": {
            "en": "AC voltamperage"
          }
        },
        "measure_voltage.eps": {
          "title": {
            "en": "EPS voltage"
          }
        },
        "measure_current.eps": {
          "title": {
            "en": "EPS current"
          }
        },
        "measure_power.eps": {
          "title": {
            "en": "EPS power"
          }
        },
        "measure_power.grid_output": {
          "title": {
            "en": "Grid output power"
          }
        },
        "measure_power.dsp": {
          "title": {
            "en": "DSP power"
          }
        },
        "measure_temperature.ac": {
          "title": {
            "en": "AC temperature"
          }
        },
        "measure_temperature.dc": {
          "title": {
            "en": "DC temperature"
          }
        },
        "measure_power.load": {
          "title": {
            "en": "load power"
          }
        },
        "measure_power.load_l1": {
          "title": {
            "en": "Load L1 power"
          }
        },
        "measure_power.load_l2": {
          "title": {
            "en": "Load L2 power"
          }
        },
        "measure_power.load_l3": {
          "title": {
            "en": "Load L3 power"
          }
        },
        "measure_voltage.load_l1": {
          "title": {
            "en": "Load L1 voltage"
          }
        },
        "measure_voltage.load_l2": {
          "title": {
            "en": "Load L2 voltage"
          }
        },
        "measure_voltage.load_l3": {
          "title": {
            "en": "Load L3 voltage"
          }
        },
        "measure_power.inverter": {
          "title": {
            "en": "Inverter power"
          }
        },
        "measure_power.inverter_l1": {
          "title": {
            "en": "Inverter L1 power"
          }
        },
        "measure_power.inverter_l2": {
          "title": {
            "en": "Inverter L2 power"
          }
        },
        "measure_power.inverter_l3": {
          "title": {
            "en": "Inverter L3 power"
          }
        },
        "measure_current.inverter_l1": {
          "title": {
            "en": "Inverter L1 current"
          }
        },
        "measure_current.inverter_l2": {
          "title": {
            "en": "Inverter L2 current"
          }
        },
        "measure_current.inverter_l3": {
          "title": {
            "en": "Inverter L3 current"
          }
        },
        "measure_voltage.inverter_l1": {
          "title": {
            "en": "Inverter L1 voltage"
          }
        },
        "measure_voltage.inverter_l2": {
          "title": {
            "en": "Inverter L2 voltage"
          }
        },
        "measure_voltage.inverter_l3": {
          "title": {
            "en": "Inverter L3 voltage"
          }
        },
        "measure_voltamperage.eps": {
          "title": {
            "en": "EPS voltamperage"
          }
        },
        "measure_voltage.meter": {
          "title": {
            "en": "Meter voltage"
          }
        },
        "measure_current.meter": {
          "title": {
            "en": "Meter current"
          }
        },
        "measure_frequency.meter": {
          "title": {
            "en": "Meter frequency"
          }
        },
        "measure_voltamperage.meter": {
          "title": {
            "en": "Meter voltamperage"
          }
        },
        "measure_voltage.battery": {
          "title": {
            "en": "Battery voltage"
          }
        },
        "measure_voltage.battery1": {
          "title": {
            "en": "Battery 1 voltage"
          }
        },
        "measure_voltage.battery2": {
          "title": {
            "en": "Battery 2 voltage"
          }
        },
        "measure_current.battery": {
          "title": {
            "en": "Battery current"
          }
        },
        "measure_power.battery": {
          "title": {
            "en": "Battery power"
          }
        },
        "measure_power.battery1": {
          "title": {
            "en": "Battery 1 power"
          }
        },
        "measure_power.battery2": {
          "title": {
            "en": "Battery 2 power"
          }
        },
        "measure_current.battery1": {
          "title": {
            "en": "Battery 1 current"
          }
        },
        "measure_current.battery2": {
          "title": {
            "en": "Battery 2 current"
          }
        },
        "measure_percentage.bat_soc": {
          "title": {
            "en": "Battery SOC"
          }
        },
        "measure_percentage.bat1_soc": {
          "title": {
            "en": "Battery 1 SOC"
          }
        },
        "measure_percentage.bat2_soc": {
          "title": {
            "en": "Battery 2 SOC"
          }
        },
        "measure_percentage.bat_soh": {
          "title": {
            "en": "State of health"
          },
          "icon": "/assets/capabilities/sharp-light-battery-three-quarters-circle-info.svg"
        },
        "measure_voltage.battery_high": {
          "title": {
            "en": "Battery voltage high"
          }
        },
        "measure_voltage.battery_low": {
          "title": {
            "en": "Battery voltage low"
          }
        },
        "measure_temperature.battery_high": {
          "title": {
            "en": "Battery temperature high"
          }
        },
        "measure_temperature.battery_low": {
          "title": {
            "en": "Battery temperature low"
          }
        },
        "measure_temperature.battery1": {
          "title": {
            "en": "Battery 1 temperature"
          }
        },
        "measure_temperature.battery2": {
          "title": {
            "en": "Battery 2 temperature"
          }
        },
        "meter_power.total_battery_charge": {
          "title": {
            "en": "Total battery charge"
          }
        },
        "meter_power.daily_battery_charge": {
          "title": {
            "en": "Daily battery charge"
          }
        },
        "meter_power.total_battery_discharge": {
          "title": {
            "en": "Total battery discharge"
          }
        },
        "meter_power.daily_battery_discharge": {
          "title": {
            "en": "Daily battery discharge"
          }
        },
        "meter_power.pv": {
          "title": {
            "en": "Total PV"
          }
        },
        "meter_power.total_pv": {
          "title": {
            "en": "Total PV"
          }
        },
        "meter_power.daily_pv": {
          "title": {
            "en": "Daily PV"
          }
        },
        "meter_power.daily": {
          "title": {
            "en": "Daily Energy"
          }
        },
        "meter_power.total_to_load": {
          "title": {
            "en": "Total to load"
          }
        },
        "meter_power.daily_to_load": {
          "title": {
            "en": "Daily to load"
          }
        },
        "meter_power.total_to_grid": {
          "title": {
            "en": "Total to grid"
          }
        },
        "meter_power.daily_to_grid": {
          "title": {
            "en": "Daily to grid"
          }
        },
        "meter_power.total_from_grid": {
          "title": {
            "en": "Total from grid"
          }
        },
        "meter_power.daily_from_grid": {
          "title": {
            "en": "Daily from grid"
          }
        },
        "meter_power.total_to_grid_pv": {
          "title": {
            "en": "Total PV to grid"
          }
        },
        "status_text.sell_solar": {
          "title": {
            "en": "Sell solar"
          }
        },
        "status_text.grid_peak_shaving": {
          "title": {
            "en": "Grid peak shaving"
          }
        }
      },
      "energy": {
        "cumulative": true
      },
      "platforms": [
        "local"
      ],
      "connectivity": [
        "lan"
      ],
      "images": {
        "small": "/drivers/blauhoff-modbus/assets/images/small.jpg",
        "large": "/drivers/blauhoff-modbus/assets/images/large.jpg",
        "xlarge": "/drivers/blauhoff-modbus/assets/images/xlarge.jpg"
      },
      "name": {
        "en": "Modbus TCP device"
      },
      "capabilities": [
        "readable_boolean.device_status"
      ],
      "pair": [
        {
          "id": "device_type"
        },
        {
          "id": "device_model"
        },
        {
          "id": "modbus_information"
        },
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "id": "blauhoff-modbus",
      "settings": [
        {
          "id": "host",
          "type": "text",
          "label": {
            "en": "Host"
          },
          "value": "",
          "hint": {
            "en": "IP address of the Modbus device"
          }
        },
        {
          "id": "port",
          "type": "number",
          "label": {
            "en": "Port"
          },
          "value": 502,
          "hint": {
            "en": "The port number of the Modbus device"
          }
        },
        {
          "id": "unitId",
          "type": "number",
          "label": {
            "en": "Unit ID"
          },
          "value": 1,
          "hint": {
            "en": "The unit ID of the Modbus device"
          }
        },
        {
          "id": "refreshInterval",
          "type": "number",
          "label": {
            "en": "Update interval",
            "nl": "Update interval"
          },
          "min": 1,
          "value": 10,
          "max": 120,
          "hint": {
            "en": "Time in seconds used to query device details"
          }
        },
        {
          "id": "readInBatch",
          "type": "checkbox",
          "label": {
            "en": "Read in batches (experimental)"
          },
          "value": false,
          "hint": {
            "en": "Determines if the registers should be read in batches"
          }
        }
      ]
    }
  ],
  "capabilities": {
    "date": {
      "type": "string",
      "title": {
        "en": "Date",
        "nl": "Datum"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "uiQuickAction": true,
      "insights": false,
      "icon": "/assets/capabilities/calendar-days-sharp-thin.svg"
    },
    "manufacturer": {
      "type": "string",
      "title": {
        "en": "Manufacturer",
        "nl": "Producent"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "uiQuickAction": true,
      "insights": false,
      "icon": "/assets/capabilities/info.svg"
    },
    "measure_frequency": {
      "type": "number",
      "title": {
        "en": "Frequency",
        "nl": "Frequentie"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "uiQuickAction": true,
      "units": {
        "en": "Hz"
      },
      "decimals": 2,
      "insights": true,
      "icon": "/assets/capabilities/wave-square-sharp-light.svg"
    },
    "measure_percentage": {
      "type": "number",
      "title": {
        "en": "Percentage"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "uiQuickAction": true,
      "units": {
        "en": "%"
      },
      "decimals": 0,
      "insights": true,
      "icon": "/assets/capabilities/percent-thin.svg"
    },
    "measure_voltamperage": {
      "type": "number",
      "title": {
        "en": "Voltamperage",
        "nl": "Voltamperage"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "uiQuickAction": true,
      "units": {
        "en": "VA"
      },
      "decimals": 2,
      "insights": true,
      "icon": "/assets/capabilities/bolt-sharp-light.svg"
    },
    "readable_boolean": {
      "type": "boolean",
      "title": {
        "en": "On/off",
        "nl": "Aan/uit"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "insights": true,
      "icon": "/assets/capabilities/power-off-sharp-light.svg"
    },
    "serial": {
      "type": "string",
      "title": {
        "en": "Serial number",
        "nl": "Serienummer"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "uiQuickAction": true,
      "decimals": 1,
      "insights": false,
      "icon": "/assets/capabilities/barcode-sharp-light.svg"
    },
    "status_code": {
      "type": "number",
      "title": {
        "en": "Status code",
        "nl": "Status code"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "uiQuickAction": true,
      "decimals": 2,
      "insights": false,
      "icon": "/assets/capabilities/info.svg"
    },
    "status_text": {
      "type": "string",
      "title": {
        "en": "Status",
        "nl": "Status"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "uiQuickAction": true,
      "insights": false,
      "icon": "/assets/capabilities/info.svg"
    },
    "version": {
      "type": "string",
      "title": {
        "en": "Version",
        "nl": "Versie"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "uiQuickAction": true,
      "insights": false,
      "icon": "/assets/capabilities/info.svg"
    }
  }
}